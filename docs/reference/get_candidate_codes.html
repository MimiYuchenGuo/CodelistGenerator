<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate candidate codelist for the OMOP CDM — get_candidate_codes • CodelistGenerator</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate candidate codelist for the OMOP CDM — get_candidate_codes"><meta property="og:description" content="This function generates a set of codes that can be considered for creating a phenotype
using the OMOP CDM."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CodelistGenerator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction_to_CodelistGenerator.html">Introduction to CodelistGenerator</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate candidate codelist for the OMOP CDM</h1>
    
    <div class="hidden name"><code>get_candidate_codes.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function generates a set of codes that can be considered for creating a phenotype
using the OMOP CDM.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_candidate_codes</span><span class="op">(</span>
  <span class="va">keywords</span>,
  domains <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Condition"</span>, <span class="st">"Drug"</span>, <span class="st">"Device"</span>, <span class="st">"Observation"</span>, <span class="st">"Procedure"</span><span class="op">)</span>,
  search.synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
  fuzzy.match <span class="op">=</span> <span class="cn">FALSE</span>,
  fuzzy.match.max.distance <span class="op">=</span> <span class="fl">0.1</span>,
  exclude <span class="op">=</span> <span class="cn">NULL</span>,
  include.descendants <span class="op">=</span> <span class="cn">TRUE</span>,
  include.ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">db</span>,
  <span class="va">vocabulary_database_schema</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>keywords</dt>
<dd><p>Character vector of words to search for. Where more than one word is given (e.g. "knee osteoarthritis"), all words will be identified but can be in different positions (e.g. "osteoarthritis of knee") should be identified.</p></dd>
<dt>domains</dt>
<dd><p>Character vector with one or more of the OMOP CDM domain (e.g. "Condition").</p></dd>
<dt>search.synonyms</dt>
<dd><p>Either TRUE or FALSE. If TRUE the code will also search via the concept synonym table.</p></dd>
<dt>fuzzy.match</dt>
<dd><p>Either TRUE or FALSE. If TRUE the fuzzy matches will be used, with approximate matches identified.</p></dd>
<dt>fuzzy.match.max.distance</dt>
<dd><p>The max.distance parmeter for fuzzy matching (see ??base::agrep for further details).</p></dd>
<dt>exclude</dt>
<dd><p>Character vector of words to search for to identify concepts to exclude.</p></dd>
<dt>include.descendants</dt>
<dd><p>Either TRUE or FALSE. If TRUE descendant concepts of identified concepts will be included in the candidate codelist.</p></dd>
<dt>include.ancestor</dt>
<dd><p>Either TRUE or FALSE. If TRUE the direct ancestor concepts of identified concepts will be included in the candidate codelist.</p></dd>
<dt>db</dt>
<dd><p>Database connection via DBI::dbConnect()</p></dd>
<dt>vocabulary_schema</dt>
<dd><p>Name of database schema with vocab tables</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Dataframe</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/untar.html" class="external-link">untar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">xzfile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sqlite"</span>, <span class="st">"cdm.tar.xz"</span>, package <span class="op">=</span> <span class="st">"Eunomia"</span><span class="op">)</span>, open <span class="op">=</span> <span class="st">"rb"</span><span class="op">)</span>,</span>
<span class="r-in">       exdir <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"\\cdm.sqlite"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in dbConnect(RSQLite::SQLite(), paste0(tempdir(), "\\cdm.sqlite")):</span> could not find function "dbConnect"</span>
<span class="r-in"><span class="va">vocabulary_database_schema</span><span class="op">&lt;-</span><span class="st">"main"</span></span>
<span class="r-in"><span class="fu">get_candidate_codes</span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"asthma"</span>,</span>
<span class="r-in">                   db<span class="op">=</span><span class="va">db</span>,</span>
<span class="r-in">                   vocabulary_schema <span class="op">=</span> <span class="st">"main"</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in get_candidate_codes(keywords = "asthma", db = db, vocabulary_schema = "main"):</span> unused argument (vocabulary_schema = "main")</span>
<span class="r-in"><span class="fu">get_candidate_codes</span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"asthma"</span>,</span>
<span class="r-in">                   search.synonyms<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span class="r-in">                             fuzzy.match<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span class="r-in">                             exclude<span class="op">=</span><span class="cn">NULL</span>,</span>
<span class="r-in">                             include.descendants<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span class="r-in">                             include.ancestor<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span class="r-in">                   db<span class="op">=</span><span class="va">db</span>,</span>
<span class="r-in">                   vocabulary_database_schema <span class="op">=</span> <span class="st">"main"</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in tbl(db, sql(paste0("SELECT * FROM ", vocabulary_database_schema,     ".concept"))):</span> could not find function "tbl"</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Burn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

